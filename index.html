<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>cubeprince</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script type="module" src="/src/main.js"></script>
  </head>
  <body>
    <div id="app">
      <a-scene day-night-cycle="cycleDuration: 90000; autoStart: false">
        <!-- Cam√©ra avec contr√¥les de mouvement limit√©s -->
        <a-entity
          id="rig"
          boundary="minX: -2; maxX: 2; minZ: -14; maxZ: -10"
          keyboard-controls="speed: 0.05; enabled: true"
          movement-controls="speed: 0.2; fly: false"
          position="0 1.6 -12"
        >
          <a-entity
            camera
            position="0 0 0"
            look-controls="pointerLockEnabled: false"
            vr-body
          >
            <a-entity
              cursor="fuse: true; fuseTimeout: 500; rayOrigin: mouse"
              raycaster="objects: .clickable; far: 50"
              cursor-debug
              position="0 0 -1"
              geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
              material="color: white; shader: flat"
              animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 1 1 1"
              animation__fusing="property: scale; startEvents: fusing; easing: easeInCubic; dur: 500; from: 1 1 1; to: 0.1 0.1 0.1"
              animation__mouseleave="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 1 1 1"
            >
            </a-entity>
          </a-entity>

          <!-- Mains VR -->
          <a-entity
            id="leftHand"
            hand-controls="hand: left; handModelStyle: lowPoly; color: #ffcccc"
            laser-controls="hand: left"
            raycaster="objects: .clickable; far: 50; lineColor: red; lineOpacity: 0.5"
            thumbstick-logging
            vr-hand-fix
          ></a-entity>
          <a-entity
            id="rightHand"
            hand-controls="hand: right; handModelStyle: lowPoly; color: #ffcccc"
            laser-controls="hand: right"
            raycaster="objects: .clickable; far: 50; lineColor: red; lineOpacity: 0.5"
            thumbstick-logging
            vr-hand-fix
          ></a-entity>
        </a-entity>

        <a-sky color="#90D9DE" id="sky"></a-sky>

        <!-- Son de vent ambiant -->
        <a-entity
          id="wind-sound"
          sound="src: ./WindSFX.m4a; loop: true; autoplay: false; volume: 0.35"
          position="0 0 0"
        ></a-entity>

        <!-- Musique principale -->
        <a-entity
          id="main-ost"
          sound="src: ./MainOst.m4a; loop: true; autoplay: false; volume: 1.5"
          position="0 0 0"
        ></a-entity>

        <!-- Son d'activation de la chaise -->
        <a-entity
          id="activation-sound"
          sound="src: ./SFX_Activation.mp3; loop: false; autoplay: false; volume: 2"
          position="0 0 0"
        ></a-entity>

        <!-- Sol -->
        <a-entity
          gltf-model="./models/FloatingFlowerField.glb"
          position="0 0 0"
          rotation="0 0 0"
          scale="0.75 0.75 0.75"
        >
          <!-- Lumi√®re sous l'√Æle pour la rendre visible d'en dessous -->
          <a-light
            type="point"
            position="0 -5 0"
            intensity="1.5"
            distance="50"
            color="#FFD700"
          ></a-light>
        </a-entity>

        <!-- Renard -->
        <a-entity
          gltf-model="./models/LittleFox.glb"
          position="2 1.329 -4.73465"
          rotation="0 0 0"
          scale=""
          fox-behavior="approachSpeed: 2.0; retreatSpeed: 8.0; minDistance: 1.2; minDistanceDesktop: 3.5; approachDistance: 10; playerIdleTime: 500; movementThreshold: 0.001; autoStart: true"
        >
          <a-light
            type="point"
            color="#FFB347"
            intensity="0.6"
            distance="8"
            position="0 -0.451 0"
          ></a-light>
        </a-entity>

        <!-- Arbre -->
        <a-entity
          gltf-model="./models/BigTree.glb"
          position="-11.81576 5.81532 -8"
          rotation=""
          scale="4 4 4"
        >
          <a-light
            type="point"
            color="#FFB347"
            intensity="0.6"
            distance="8"
            position="0 -0.451 0"
          ></a-light>
        </a-entity>

        <!-- Chaise pour d√©clencher le coucher de soleil -->
        <a-entity
          gltf-model="./models/Chair.glb"
          position="1.271 1 0.059"
          rotation="0 180 0"
          scale="1 1 1"
          sunset-trigger
          class="clickable"
          static-body
          body="type: static"
        ></a-entity>

        <!-- Rose au centre -->
        <a-entity
          gltf-model="./models/Rose.glb"
          position="0 0.67197 0"
          rotation=""
          scale=""
        ></a-entity>

        <!-- Fleurs violettes √©parpill√©es sur le sol -->
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="-3 0.420 -2"
          rotation="0 45 0"
          scale="0.8 0.8 0.8"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.8"
            distance="3"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="4 0.784 -5"
          rotation="0 120 0"
          scale="0.9 0.9 0.9"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.8"
            distance="3"
            position="0 1.277 0"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="-5 0 3"
          rotation="0 280 0"
          scale="1 1 1"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.8"
            distance="3"
            position="0 1.277 0"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="2 0 4"
          rotation="0 160 0"
          scale="0.7 0.7 0.7"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.8"
            distance="3"
            position="0 1.277 0"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="-1 0.993 -7"
          rotation="0 90 0"
          scale="0.85 0.85 0.85"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.8"
            distance="3"
            position="0 1.277 0"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="6 0 2"
          rotation="0 200 0"
          scale="0.95 0.95 0.95"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.8"
            distance="3"
            position="0 1.277 0"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="-7 0.79969 -4"
          rotation="0 330 0"
          scale="0.75 0.75 0.75"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.8"
            distance="3"
            position="0 1.277 0"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="1 0.750 -3"
          rotation="0 60 0"
          scale="0.8 0.8 0.8"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.8"
            distance="3"
            position="0 1.277 0"
          ></a-light>
        </a-entity>

        <!-- Plafond -->
        <!-- <a-plane
            position="0 32 0"
            rotation="90 0 0"
            width="32"
            height="32"
            color="#D4D4D4"
          ></a-plane> -->

        <!-- Mur Nord (devant initial) -->
        <!-- <a-plane
          position="0 16 -16"
          rotation="0 0 0"
          width="32"
          height="32"
          color="#4CC3D9"
        ></a-plane> -->

        <!-- Mur Sud (derri√®re) -->
        <!-- <a-plane
          position="0 16 16"
          rotation="0 180 0"
          width="32"
          height="32"
          color="#EF2D5E"
        ></a-plane> -->

        <!-- Mod√®le 3D : Avion -->
        <a-entity
          gltf-model="./models/Airplane.glb"
          scale="5 5 5"
          wall-flight="height: 16; speed: 3.5; offset: 9"
          airplane-teleport
          class="clickable"
        ></a-entity>

        <!-- Grand plan en dessous de l'√Æle -->
        <a-plane
          position="0 -25 0"
          rotation="-90 0 0"
          width="200"
          height="200"
          color="#228B22"
          material="side: double"
          shadow="receive: true"
        ></a-plane>

        <!-- Lumi√®re pour le plan inf√©rieur -->
        <!-- <a-light
          type="point"
          position="0 -15 0"
          intensity="0.8"
          distance="120"
          color="#FFFACD"
        ></a-light> -->

        <!-- Arbres sur le plan inf√©rieur -->
        <a-entity
          gltf-model="./models/BigTree.glb"
          position="-30 -22 -30"
          scale="3 3 3"
        ></a-entity>
        <a-entity
          gltf-model="./models/BigTree.glb"
          position="40 -22 -25"
          scale="3.5 3.5 3.5"
        ></a-entity>
        <a-entity
          gltf-model="./models/BigTree.glb"
          position="-50 -22 40"
          scale="2.8 2.8 2.8"
        ></a-entity>
        <a-entity
          gltf-model="./models/BigTree.glb"
          position="35 -22 50"
          scale="3.2 3.2 3.2"
        ></a-entity>
        <a-entity
          gltf-model="./models/BigTree.glb"
          position="-15 -22 -60"
          scale="3 3 3"
        ></a-entity>
        <a-entity
          gltf-model="./models/BigTree.glb"
          position="55 -22 20"
          scale="2.5 2.5 2.5"
        ></a-entity>
        <a-entity
          gltf-model="./models/BigTree.glb"
          position="-45 -22 -10"
          scale="3.3 3.3 3.3"
        ></a-entity>
        <a-entity
          gltf-model="./models/BigTree.glb"
          position="20 -22 -45"
          scale="2.9 2.9 2.9"
        ></a-entity>

        <!-- Fleurs violettes sur le plan inf√©rieur -->
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="-10 -25 -15"
          rotation="0 45 0"
          scale="1.2 1.2 1.2"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.6"
            distance="4"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="15 -25 20"
          rotation="0 120 0"
          scale="1.1 1.1 1.1"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.6"
            distance="4"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="-25 -25 25"
          rotation="0 200 0"
          scale="1.0 1.0 1.0"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.6"
            distance="4"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="30 -25 -10"
          rotation="0 300 0"
          scale="1.15 1.15 1.15"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.6"
            distance="4"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="-35 -25 -35"
          rotation="0 60 0"
          scale="1.0 1.0 1.0"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.6"
            distance="4"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="45 -25 35"
          rotation="0 180 0"
          scale="1.3 1.3 1.3"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.6"
            distance="4"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="5 -25 -40"
          rotation="0 90 0"
          scale="1.1 1.1 1.1"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.6"
            distance="4"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="-20 -25 50"
          rotation="0 270 0"
          scale="1.2 1.2 1.2"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.6"
            distance="4"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="38 -25 -28"
          rotation="0 150 0"
          scale="1.0 1.0 1.0"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.6"
            distance="4"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="-42 -25 15"
          rotation="0 330 0"
          scale="1.25 1.25 1.25"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.6"
            distance="4"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="12 -25 42"
          rotation="0 220 0"
          scale="1.15 1.15 1.15"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.6"
            distance="4"
          ></a-light>
        </a-entity>
        <a-entity
          gltf-model="./models/PurpleFlower.glb"
          position="-8 -25 -50"
          rotation="0 75 0"
          scale="1.1 1.1 1.1"
        >
          <a-light
            type="point"
            color="#a855f7"
            intensity="0.6"
            distance="4"
          ></a-light>
        </a-entity>

        <!-- Mur Est (droite) -->
        <!-- <a-plane
          position="16 16 0"
          rotation="0 -90 0"
          width="32"
          height="32"
          color="#FFC65D"
        ></a-plane> -->

        <!-- Mur Ouest (gauche) -->
        <!-- <a-plane
          position="-16 16 0"
          rotation="0 90 0"
          width="32"
          height="32"
          color="#9B59B6"
        ></a-plane> -->
      </a-scene>
    </div>

    <!-- Bouton de d√©marrage pour l'audio -->
    <div
      id="start-overlay"
      style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        cursor: pointer;
      "
    >
      <div
        style="text-align: center; color: white; font-family: Arial, sans-serif"
      >
        <h1 style="font-size: 3em; margin-bottom: 20px">üåç CubePrince</h1>
        <p style="font-size: 1.5em; margin-bottom: 30px">
          Cliquez pour commencer l'exp√©rience
        </p>
        <div style="font-size: 1em; opacity: 0.7">
          üéß Exp√©rience optimale avec le son
        </div>
      </div>
    </div>
  </body>
</html>
